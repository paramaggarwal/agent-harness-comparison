# Auth and Provider Model Comparison

## Codex

- Supports multiple auth storage modes (file/keyring/auto/none), with dedicated auth storage modules.
- Separates general CLI auth handling from MCP OAuth token lifecycle.
- Uses explicit secure file-permission handling for credential files.

Implication: auth concerns are modularized and isolated across local account and MCP access.

## Gemini CLI

- Explicit auth type support for Google OAuth/Code Assist, Gemini API key, Vertex AI, and related variants.
- CLI validates auth path early and handles non-interactive auth error shaping for JSON output.
- Core content generator routes between provider stacks based on chosen auth mode.

Implication: broad provider flexibility while preserving clear mode-specific behavior.

## OpenCode

- Provider-agnostic design across OpenAI, Anthropic, Google, Azure, Bedrock, and others via provider map.
- Credential source precedence across environment/config/stored auth.
- Persists auth state in local `auth.json` with restrictive permissions.

Implication: explicit multi-provider abstraction with practical credential fallback behavior.

## Claude Code repo / Copilot CLI repo

- Both repos contain user-facing auth documentation and integration hints.
- Full internal auth orchestration code is not visible in these repos.

Implication: cannot code-audit complete token lifecycle/refresh/storage semantics from repository internals alone.
